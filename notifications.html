<ul style="display: inline;">
  <div id="inputText">
    
    <b id="notification_title" style="padding-left:5px;color:purple;">What's Happening at IGNITE Church?</b>

    <div id="notification_list">
        </div>

  </div>
</ul>

<center>
    <a href="https://www.ignitetheozarks.com/events.html" style="color: blue;"><b><u>View Events Calendar for More Info!</u></b></a>
    <hr>
    
    <button style="color: white;background-color: rgb(213, 83, 85);border-color: black;font-size: 10pt;font-weight: bold;" onclick="location.href='https://ignitenow.breezechms.com/give/online'" type="button">&nbsp;Give&nbsp;</button>
    &nbsp;&nbsp;&nbsp;&nbsp;
    
    <button style="color: white;background-color: rgb(213, 83, 85);border-color: black;font-size: 10pt;font-weight: bold;" onclick="location.href='https://www.ignitetheozarks.com/signup.html'" type="button">Serve</button>
    <hr>
    
    <button id="modalClose" type="button" style="color: white;background-color: rgb(213, 83, 85);border-color: black;font-size: 10pt;font-weight: bold;">Close</button>
    <br><br>
    
    <div id="footer" style="color: #ccccff;font-size: smaller;"></div>
    
    <script>
        const date = new Date(); // Added 'const' for better code practice
        const year = date.getFullYear();
        const month = date.getMonth() + 1;
        const day = date.getDate();
        document.getElementById("footer").innerHTML = "last updated: " + month + "/" + day + "/" + year + "<br>by ckonkol";
    </script>
</center>
<script>
  // We use an "Immediately Invoked Async Function" to allow imports in a standard script
  (async () => {
    try {
        // Dynamically import the config
        const { db, doc, getDoc } = await import('./firebase-config.js');

        const docRef = doc(db, "pages", "notifications"); 
        const docSnap = await getDoc(docRef);

        if (docSnap.exists()) {
          const data = docSnap.data();

          // Update Header
          if (data.notification_title) {
              const titleEl = document.getElementById('notification_title');
              if(titleEl) titleEl.innerHTML = data.notification_title;
          }

          // Update List
          if (data.notification_items && Array.isArray(data.notification_items)) {
              let html = '';
              data.notification_items.forEach(item => {
                  html += `
                    <ul>
                        <li>
                            <b>
                                <a href="${item.link || '#'}" style="color: blue;" target="_blank">
                                    <u>${item.text}</u>
                                </a>
                            </b>
                        </li>
                    </ul>
                    <ul style="padding-left:60px"></ul>`;
              });
              
              const listEl = document.getElementById('notification_list');
              if(listEl) listEl.innerHTML = html;
          }
        }
    } catch (error) {
        console.error("Error loading notification data:", error);
    }
  })();
</script>